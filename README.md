# CondaManager

> ğŸ æ™ºèƒ½ Conda ç¯å¢ƒç®¡ç†å™¨ - è®© Conda å’Œé¡¹ç›®ç¯å¢ƒå’Œå¹³å…±å¤„

## ğŸ¯ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

ä¸€ä¸ªè½»é‡çº§çš„ PowerShell è„šæœ¬ï¼Œè§£å†³ Conda ç¯å¢ƒå’Œç°ä»£ Python é¡¹ç›®å·¥å…·ï¼ˆuvã€venvã€poetry ç­‰ï¼‰ä¹‹é—´çš„ä¾èµ–å†²çªé—®é¢˜ã€‚

### ç—›ç‚¹åœºæ™¯

```bash
# ä½ æ‰“å¼€ç»ˆç«¯ï¼ŒConda base ç¯å¢ƒè‡ªåŠ¨æ¿€æ´»
(base) PS C:\project>

# ä½ çš„é¡¹ç›®ç”¨ uv/venv ç®¡ç†ä¾èµ–
# ç»“æœ pip install è£…åˆ° Conda é‡Œäº†...
# æˆ–è€…åŒ…ç‰ˆæœ¬å†²çªå¯¼è‡´å„ç§è¯¡å¼‚é”™è¯¯ ğŸ˜±
```

### æœ‰äº† CondaManager

```bash
# åœ¨æ™®é€šç›®å½• â†’ è‡ªåŠ¨å…³é—­ base ç¯å¢ƒ
[CondaManager] å·²è‡ªåŠ¨å…³é—­ base ç¯å¢ƒ
PS C:\Users\YourName>

# åœ¨é¡¹ç›®ç›®å½• â†’ æ™ºèƒ½æç¤º
[!] æ£€æµ‹åˆ°é¡¹ç›®ç¯å¢ƒ
    å½“å‰ Conda ç¯å¢ƒ: base
æ˜¯å¦å…³é—­ Conda é¿å…ä¾èµ–å†²çª? [Y/n] (é»˜è®¤ Y): 
âœ“ Conda ç¯å¢ƒå·²å…³é—­
PS C:\project>
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

1. **ä¸‹è½½è„šæœ¬**
   ```powershell
   # ä¿å­˜ CondaManager.ps1 åˆ°ä»»æ„ä½ç½®
   # ä¾‹å¦‚: C:\Users\YourName\Documents\Scripts\
   ```

2. **é‡è¦ï¼šè®¾ç½®æ­£ç¡®çš„ç¼–ç **
   - ç”¨ VSCode æ‰“å¼€è„šæœ¬
   - å³ä¸‹è§’ç‚¹å‡»ç¼–ç  â†’ "Save with Encoding" â†’ **"UTF-8 with BOM"**
   - æˆ–ç”¨ Notepad++ï¼šç¼–ç  â†’ è½¬ä¸º UTF-8-BOM ç¼–ç 

3. **è¿è¡Œéƒ¨ç½²**
   ```powershell
   .\CondaManager.ps1
   ```
   
   çœ‹åˆ°è¿™ä¸ªç•Œé¢ï¼š
   ```
   =============================
      Conda ç®¡ç†å™¨ - éƒ¨ç½²å·¥å…·  
   =============================
   
   è„šæœ¬ä½ç½®: C:\...\CondaManager.ps1
   
   å½“å‰çŠ¶æ€: [æœªéƒ¨ç½²]
   
   éƒ¨ç½²åæ¯æ¬¡æ‰“å¼€ç»ˆç«¯éƒ½ä¼šå¸®ä½ çœ‹ç€é¡¹ç›®ç¯å¢ƒ~
   å†ä¹Ÿä¸ç”¨æ‹…å¿ƒ Conda å’Œ uv/venv æ‰“æ¶å•¦ ãƒ½(Â°â–½Â°)ãƒ
   
   è¦ä¸è¦éƒ¨ç½²åˆ° PowerShell Profile? [Y/n] (é»˜è®¤ Y):
   ```

4. **è¾“å…¥ Y æˆ–ç›´æ¥å›è½¦** â†’ å®Œæˆï¼

5. **é‡å¯ç»ˆç«¯ç”Ÿæ•ˆ**

---

## ğŸ“– å·¥ä½œåŸç†

### æ£€æµ‹é€»è¾‘

è„šæœ¬ä¼šæ£€æµ‹å½“å‰ç›®å½•æ˜¯å¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

- `uv.lock` â†’ uv é¡¹ç›®
- `.venv/` â†’ virtualenv/venv é¡¹ç›®
- `pyproject.toml` â†’ Poetry/PDM/Hatch é¡¹ç›®
- `requirements.txt` â†’ pip é¡¹ç›®

### ä¸‰ç§è¿è¡Œæ¨¡å¼

| åœºæ™¯ | è¡Œä¸º | æç¤º |
|------|------|------|
| **é¡¹ç›®ç›®å½•** | è¯¢é—®æ˜¯å¦å…³é—­ Conda | `[!] æ£€æµ‹åˆ°é¡¹ç›®ç¯å¢ƒ` (é»„è‰²) |
| **æ™®é€šç›®å½•** | è‡ªåŠ¨å…³é—­ base ç¯å¢ƒ | `[CondaManager] å·²è‡ªåŠ¨å…³é—­ base ç¯å¢ƒ` (ç°è‰²) |
| **æ—  Conda æ¿€æ´»** | ä¸åšä»»ä½•æ“ä½œ | æ— æç¤º |

---

## ğŸ› ï¸ ä½¿ç”¨åœºæ™¯

### âœ… é€‚åˆä½ çš„æƒ…å†µ

- åŒæ—¶ä½¿ç”¨ Conda å’Œ uv/venv
- ç»å¸¸åœ¨ä¸åŒé¡¹ç›®é—´åˆ‡æ¢
- æƒ³è¦ Conda åœ¨éœ€è¦æ—¶æ‰æ¿€æ´»
- ä¸æƒ³åœ¨æ¯ä¸ªç»ˆç«¯éƒ½çœ‹åˆ° `(base)`

### âš ï¸ ä¸é€‚åˆçš„æƒ…å†µ

- æ‰€æœ‰é¡¹ç›®éƒ½ç”¨ Conda ç®¡ç†
- éœ€è¦ base ç¯å¢ƒå§‹ç»ˆæ¿€æ´»
- ä¸ç”¨ PowerShellï¼ˆLinux/Mac ç”¨æˆ·ï¼‰

---

## ğŸ® äº¤äº’ç¤ºä¾‹

### éƒ¨ç½²æ—¶

```powershell
PS C:\Scripts> .\CondaManager.ps1

=============================
   Conda ç®¡ç†å™¨ - éƒ¨ç½²å·¥å…·  
=============================

å½“å‰çŠ¶æ€: [æœªéƒ¨ç½²]

è¦ä¸è¦éƒ¨ç½²åˆ° PowerShell Profile? [Y/n] (é»˜è®¤ Y): y

âœ“ éƒ¨ç½²æˆåŠŸï¼ä¸‹æ¬¡å¯åŠ¨ç»ˆç«¯å³å¯ç”Ÿæ•ˆ

Tips: cd åˆ°é¡¹ç›®ç›®å½•è¯•è¯•ï¼Œä¼šè‡ªåŠ¨æç¤ºçš„å“¦ (à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§
```

### å¸è½½æ—¶

```powershell
PS C:\Scripts> .\CondaManager.ps1

=============================
   Conda ç®¡ç†å™¨ - éƒ¨ç½²å·¥å…·  
=============================

å½“å‰çŠ¶æ€: [å·²éƒ¨ç½²]

ç”¨å¾—è¿˜é¡ºæ‰‹å—ï¼Ÿè¦å¸è½½å—ï¼Ÿ

ç¡®è®¤å¸è½½? [y/N] (é»˜è®¤ Nï¼Œä¹Ÿå°±æ˜¯ä¸å¸è½½): n

æ‡‚äº†ï¼Œæ‰‹æ»‘äº†æ˜¯å§ (ï¿£â–½ï¿£)ãƒ é‚£å°±ç»§ç»­ç”¨ç€~
```

### æ—¥å¸¸ä½¿ç”¨

```powershell
# åœ¨é¡¹ç›®ç›®å½•æ‰“å¼€ç»ˆç«¯
Windows PowerShell

[!] æ£€æµ‹åˆ°é¡¹ç›®ç¯å¢ƒ
    å½“å‰ Conda ç¯å¢ƒ: base
æ˜¯å¦å…³é—­ Conda é¿å…ä¾èµ–å†²çª? [Y/n] (é»˜è®¤ Y): 
âœ“ Conda ç¯å¢ƒå·²å…³é—­

PS C:\project> uv pip install requests  # å®‰å…¨ï¼
```

---

## ğŸ”§ é«˜çº§é…ç½®

### ä¿®æ”¹æ£€æµ‹è§„åˆ™

ç¼–è¾‘è„šæœ¬ç¬¬ 22 è¡Œï¼š

```powershell
# æ·»åŠ æ›´å¤šé¡¹ç›®æ ‡è®°æ–‡ä»¶
$projectMarkers = @(
    "uv.lock", 
    ".venv", 
    "pyproject.toml", 
    "requirements.txt",
    "poetry.lock",      # æ·»åŠ  Poetry
    "Pipfile",          # æ·»åŠ  Pipenv
    "conda.yaml"        # æ·»åŠ  conda env æ–‡ä»¶
)
```

### ä¿ç•™ base ç¯å¢ƒ

å¦‚æœä½ å¸Œæœ›åœ¨æ™®é€šç›®å½•ä¹Ÿä¿ç•™ base ç¯å¢ƒï¼Œæ³¨é‡Šæ‰ç¬¬ 41-45 è¡Œï¼š

```powershell
# } else {
#     if ($env:CONDA_DEFAULT_ENV -eq 'base') {
#         conda deactivate 2>$null
#         Write-Host "[CondaManager] å·²è‡ªåŠ¨å…³é—­ base ç¯å¢ƒ" -ForegroundColor DarkGray
#     }
# }
```

---

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆå¿…é¡»ç”¨ UTF-8 with BOMï¼Ÿ

A: PowerShell 5.1 é»˜è®¤ç”¨ç³»ç»Ÿç¼–ç ï¼ˆä¸­æ–‡ Windows æ˜¯ GBKï¼‰ï¼ŒBOM èƒ½å¼ºåˆ¶è¯†åˆ«ä¸º UTF-8ï¼Œé¿å…ä¸­æ–‡ä¹±ç ã€‚

### Q: ä¼šä¸ä¼šæ‹–æ…¢ç»ˆç«¯å¯åŠ¨é€Ÿåº¦ï¼Ÿ

A: å‡ ä¹æ²¡æœ‰å½±å“ï¼ˆ<50msï¼‰ï¼Œåªåœ¨å¯åŠ¨æ—¶è¿è¡Œä¸€æ¬¡ã€‚

### Q: å¦‚æœæˆ‘æƒ³æ‰‹åŠ¨æ¿€æ´» Conda æ€ä¹ˆåŠï¼Ÿ

A: æ­£å¸¸ä½¿ç”¨ `conda activate env_name` å³å¯ï¼Œè„šæœ¬åªåœ¨ç»ˆç«¯å¯åŠ¨æ—¶è¿è¡Œã€‚

### Q: æ”¯æŒ Linux/Mac å—ï¼Ÿ

A: ç›®å‰åªæ”¯æŒ Windows PowerShellï¼Œä½†å¯ä»¥æ”¹å†™æˆ Bash è„šæœ¬ï¼ˆé€»è¾‘ç±»ä¼¼ï¼‰ã€‚

### Q: å¸è½½åä¼šåˆ é™¤æˆ‘çš„ Profile å—ï¼Ÿ

A: ä¸ä¼šï¼åªåˆ é™¤è„šæœ¬æ·»åŠ çš„éƒ¨åˆ†ï¼ˆä¸¤ä¸ªæ ‡è®°ä¹‹é—´çš„å†…å®¹ï¼‰ï¼Œå…¶ä»–é…ç½®ä¿æŒä¸å˜ã€‚

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

éƒ¨ç½²åï¼Œä½ çš„ PowerShell Profileï¼ˆ`$PROFILE`ï¼‰ä¼šåŒ…å«ï¼š

```powershell
# ä½ åŸæœ‰çš„é…ç½®...

# >>> CondaManager Start >>>
. "C:\...\CondaManager.ps1" -StartupMode
# <<< CondaManager End <<<

# ä½ åŸæœ‰çš„é…ç½®...
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šè„šæœ¬æ— æ³•è¿è¡Œï¼Œæç¤º"æ— æ³•åŠ è½½"

**åŸå› **ï¼šPowerShell æ‰§è¡Œç­–ç•¥é™åˆ¶

**è§£å†³**ï¼š
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### é—®é¢˜ï¼šä¸­æ–‡æ˜¾ç¤ºä¹±ç 

**åŸå› **ï¼šæ–‡ä»¶ç¼–ç ä¸æ­£ç¡®

**è§£å†³**ï¼š
1. ç”¨ VSCode æ‰“å¼€è„šæœ¬
2. å³ä¸‹è§’ç‚¹ç¼–ç  â†’ "Save with Encoding" â†’ "UTF-8 with BOM"
3. ä¿å­˜åé‡æ–°è¿è¡Œ

### é—®é¢˜ï¼šæç¤ºæ‰¾ä¸åˆ° conda å‘½ä»¤

**åŸå› **ï¼šConda æœªæ·»åŠ åˆ° PATH

**è§£å†³**ï¼š
```powershell
# åˆå§‹åŒ– Condaï¼ˆåªéœ€è¿è¡Œä¸€æ¬¡ï¼‰
conda init powershell
```

---

## ğŸ¨ è‡ªå®šä¹‰æç¤ºæ–‡æ¡ˆ

ä¸å–œæ¬¢é»˜è®¤çš„æ–‡æ¡ˆï¼Ÿå¯ä»¥éšæ„ä¿®æ”¹ï¼

```powershell
# ç¬¬ 28 è¡Œ - é¡¹ç›®æ£€æµ‹æç¤º
Write-Host "[!] æ£€æµ‹åˆ°é¡¹ç›®ç¯å¢ƒ" -ForegroundColor Yellow
# æ”¹æˆ â†’
Write-Host "âš ï¸  é¡¹ç›®ç¯å¢ƒè­¦å‘Šï¼" -ForegroundColor Red

# ç¬¬ 44 è¡Œ - è‡ªåŠ¨å…³é—­æç¤º
Write-Host "[CondaManager] å·²è‡ªåŠ¨å…³é—­ base ç¯å¢ƒ" -ForegroundColor DarkGray
# æ”¹æˆ â†’
Write-Host "ğŸ”• base ç¯å¢ƒå·²é™é»˜å…³é—­" -ForegroundColor Cyan
```

---

## ğŸ“œ å¼€æºåè®®

MIT License - éšä¾¿ç”¨ï¼Œéšä¾¿æ”¹ (à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§

---

## ğŸ™ è‡´è°¢

çµæ„Ÿæ¥æºäºæ—¥å¸¸è¢« Conda å’Œ uv æå¾—ç„¦å¤´çƒ‚é¢çš„è‡ªå·± ğŸ˜…

---

## ğŸ“ åé¦ˆ

é‡åˆ°é—®é¢˜ï¼Ÿæœ‰æ–°æƒ³æ³•ï¼Ÿæ¬¢è¿æ Issueï¼

## ğŸ“§ è”ç³»æ–¹å¼

Email: [follower193949@outlook.com](mailto:follower193949@outlook.com)

**Enjoy your conflict-free Python environment! ğŸ‰**